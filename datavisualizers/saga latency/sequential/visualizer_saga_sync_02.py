import matplotlib.pyplot as plt

latencies_succeed = [
        278,
        257,
        243,
        228,
        252,
        260,
        365,
        251,
        249,
        232,
        258,
        219,
        256,
        372,
        227,
        231,
        238,
        245,
        232,
        229,
        246,
        224,
        229,
        233,
        279,
        253,
        265,
        254,
        253,
        237,
        331,
        236,
        250,
        246,
        224,
        236,
        241,
        228,
        254,
        339,
        216,
        235,
        234,
        232,
        237,
        380,
        229,
        264,
        244,
        242,
        235,
        244,
        235,
        242,
        232,
        235,
        223,
        234,
        235,
        233,
        242,
        242,
        246,
        285,
        238,
        222,
        240,
        226,
        243,
        241,
        257,
        237,
        226,
        217,
        251,
        235,
        230,
        229,
        229,
        227,
        232,
        239,
        230,
        225,
        231,
        261,
        229,
        230,
        224,
        230,
        241,
        237,
        236,
        230,
        228,
        231,
        222,
        224,
        236,
        236
    ]

latencies_fail = [
        336,
        277,
        286,
        289,
        261,
        279,
        266,
        275,
        274,
        266,
        292,
        310,
        284,
        264,
        273,
        268,
        281,
        284,
        389,
        253,
        265,
        293,
        296,
        292,
        275,
        284,
        261,
        272,
        271,
        266,
        272,
        277,
        263,
        262,
        303,
        268,
        287,
        320,
        280,
        274,
        296,
        290,
        269,
        268,
        372,
        281,
        270,
        273,
        256,
        324,
        260,
        277,
        269,
        273,
        275,
        304,
        277,
        255,
        276,
        267,
        303,
        290,
        266,
        271,
        271,
        264,
        268,
        269,
        286,
        275,
        276,
        322,
        270,
        293,
        274,
        304,
        271,
        262,
        273,
        276,
        280,
        285,
        256,
        277,
        267,
        270,
        280,
        276,
        274,
        291,
        281,
        273,
        277,
        285,
        283,
        272,
        263,
        276,
        269,
        271
    ]


average_latency_succeed = sum(latencies_succeed) / len(latencies_succeed)

average_latency_fail = sum(latencies_fail) / len(latencies_fail)

plt.figure(figsize=(14, 7))
plt.rcParams.update({'font.size': 16})

plt.plot(latencies_succeed, marker='.', linestyle='-', color='b', label='Latenzen Erfolgreich (ms)')
plt.plot(latencies_fail, marker='.', linestyle='-', color='g', label='Latenzen Abbruch (ms)')
plt.axhline(y=average_latency_succeed, color='r', linestyle='--', label=f'Durchschnittliche Latenz Erfolg ({average_latency_succeed:.2f} ms)')
plt.axhline(y=average_latency_fail, color='orange', linestyle='--', label=f'Durchschnittliche Latenz Abbruch ({average_latency_fail:.2f} ms)')
plt.title('Sequentielles Saga Latenztestszenario mit einer minimalen Instanz')
plt.xlabel('Index der Transaktion')
plt.ylabel('Latenz in Millisekunden (ms)')
plt.grid(True)
plt.legend()

plt.tight_layout()
plt.show()
