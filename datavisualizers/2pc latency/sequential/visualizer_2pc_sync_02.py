import matplotlib.pyplot as plt

latencies_succeed = [
        239,
        251,
        209,
        249,
        218,
        244,
        239,
        241,
        218,
        232,
        217,
        228,
        239,
        259,
        268,
        238,
        360,
        225,
        240,
        221,
        239,
        229,
        243,
        239,
        235,
        226,
        220,
        244,
        227,
        230,
        234,
        221,
        227,
        213,
        248,
        266,
        225,
        332,
        230,
        222,
        237,
        219,
        222,
        218,
        252,
        362,
        225,
        226,
        290,
        242,
        229,
        227,
        226,
        219,
        233,
        240,
        235,
        228,
        220,
        222,
        215,
        223,
        219,
        240,
        234,
        233,
        238,
        226,
        243,
        228,
        247,
        261,
        248,
        225,
        247,
        238,
        228,
        240,
        223,
        231,
        263,
        224,
        230,
        217,
        209,
        273,
        229,
        218,
        220,
        219,
        236,
        209,
        212,
        228,
        209,
        247,
        221,
        229,
        225,
        212
    ]

latencies_fail = [
        297,
        170,
        167,
        166,
        262,
        156,
        155,
        169,
        158,
        180,
        152,
        315,
        161,
        159,
        151,
        159,
        159,
        161,
        205,
        177,
        143,
        150,
        321,
        176,
        165,
        193,
        157,
        168,
        163,
        181,
        182,
        154,
        162,
        272,
        149,
        160,
        404,
        145,
        171,
        154,
        243,
        156,
        146,
        157,
        252,
        293,
        176,
        192,
        154,
        150,
        175,
        180,
        155,
        169,
        334,
        206,
        156,
        369,
        169,
        306,
        215,
        151,
        159,
        177,
        274,
        171,
        148,
        324,
        150,
        176,
        273,
        159,
        143,
        198,
        157,
        148,
        154,
        186,
        153,
        150,
        181,
        291,
        151,
        152,
        194,
        157,
        168,
        211,
        168,
        145,
        220,
        260,
        157,
        150,
        149,
        262,
        164,
        161,
        218,
        195
    ]


average_latency_succeed = sum(latencies_succeed) / len(latencies_succeed)
average_latency_fail = sum(latencies_fail) / len(latencies_fail)

plt.figure(figsize=(14, 7))
plt.rcParams.update({'font.size': 16})

plt.plot(latencies_succeed, marker='.', linestyle='-', color='b', label='Latenzen Erfolgreich (ms)')
plt.plot(latencies_fail, marker='.', linestyle='-', color='g', label='Latenzen Abbruch (ms)')
plt.axhline(y=average_latency_succeed, color='r', linestyle='--', label=f'Durchschnittliche Latenz Erfolg ({average_latency_succeed:.2f} ms)')
plt.axhline(y=average_latency_fail, color='orange', linestyle='--', label=f'Durchschnittliche Latenz Abbruch ({average_latency_fail:.2f} ms)')
plt.title('Sequentielles 2PC Latenztestszenario mit einer minimalen Instanz')
plt.xlabel('Index der Transaktion')
plt.ylabel('Latenz in Millisekunden (ms)')
plt.grid(True)
plt.legend()

plt.tight_layout()
plt.show()
